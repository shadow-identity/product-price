import{a as q,t as ie}from"../chunks/disclose-version.8t0kJPxb.js";import{i as fe,h as z,o as ge,j as be,m as T,N as me,a4 as ce,a6 as we,a7 as ee,O as te,$ as P,p as D,a8 as $,a9 as ue,k as ve,aa as xe,e as re,ab as Se,ac as Ee,a3 as Ae,ad as Te,l as Ne,a0 as Ie,R as Oe,w as Me,s as se,ae as De,af as Re,ag as Ce,Z as $e,ah as He,ai as Le,aj as Je,ak as Pe,u as Be,al as Ge,q as Ve,am as ae,c as B,t as Ye,d as u,H as g,J as A,I as b,G as je,D as Fe}from"../chunks/runtime.CIblE3ht.js";import{a as Ke,l as ze,d as Ue,e as We,s as G}from"../chunks/render.DoIvpP_k.js";import{p as R}from"../chunks/proxy.siktq6NQ.js";import{a as Xe}from"../chunks/paths.C9kPFOTE.js";const Ze=[];function U(e,t=!1){return H(e,new Map,"",Ze)}function H(e,t,r,n,s=null){if(typeof e=="object"&&e!==null){const c=t.get(e);if(c!==void 0)return c;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(fe(e)){const v=[];t.set(e,v),s!==null&&t.set(s,v);for(let d=0;d<e.length;d+=1)v.push(H(e[d],t,r,n));return v}if(z(e)===ge){const v={};t.set(e,v),s!==null&&t.set(s,v);for(var a in e)v[a]=H(e[a],t,r,n);return v}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function")return H(e.toJSON(),t,r,n,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function Qe(e,t){return t}function qe(e,t,r,n){for(var s=[],a=t.length,c=0;c<a;c++)Ee(t[c].e,s,!0);var v=a>0&&s.length===0&&r!==null;if(v){var d=r.parentNode;Ae(d),d.append(r),n.clear(),N(e,t[0].prev,t[a-1].next)}Te(s,()=>{for(var m=0;m<a;m++){var l=t[m];v||(n.delete(l.k),N(e,l.prev,l.next)),Ne(l.e,!v)}})}function et(e,t,r,n,s,a=null){var c=e,v={flags:t,items:new Map,first:null};T&&me();var d=null,m=!1;be(()=>{var l=r(),p=fe(l)?l:l==null?[]:ce(l),o=p.length;if(m&&o===0)return;m=o===0;let i=!1;if(T){var y=c.data===we;y!==(o===0)&&(c=ee(),te(c),P(!1),i=!0)}if(T){for(var x=null,w,f=0;f<o;f++){if(D.nodeType===8&&D.data===Ie){c=D,i=!0,P(!1);break}var h=p[f],I=n(h,f);w=de(D,v,x,null,h,I,f,s,t),v.items.set(I,w),x=w}o>0&&te(ee())}if(!T){var S=Oe;tt(p,v,c,s,t,(S.f&$)!==0,n)}a!==null&&(o===0?d?ue(d):d=ve(()=>a(c)):d!==null&&xe(d,()=>{d=null})),i&&P(!0),r()}),T&&(c=D)}function tt(e,t,r,n,s,a,c){var v=e.length,d=t.items,m=t.first,l=m,p,o=null,i=[],y=[],x,w,f,h;for(h=0;h<v;h+=1){if(x=e[h],w=c(x,h),f=d.get(w),f===void 0){var I=l?l.e.nodes_start:r;o=de(I,t,o,o===null?t.first:o.next,x,w,h,n,s),d.set(w,o),i=[],y=[],l=o.next;continue}if(rt(f,x,h),f.e.f&$&&ue(f.e),f!==l){if(p!==void 0&&p.has(f)){if(i.length<y.length){var S=y[0],E;o=S.prev;var C=i[0],_=i[i.length-1];for(E=0;E<i.length;E+=1)ne(i[E],S,r);for(E=0;E<y.length;E+=1)p.delete(y[E]);N(t,C.prev,_.next),N(t,o,C),N(t,_,S),l=S,o=_,h-=1,i=[],y=[]}else p.delete(f),ne(f,l,r),N(t,f.prev,f.next),N(t,f,o===null?t.first:o.next),N(t,o,f),o=f;continue}for(i=[],y=[];l!==null&&l.k!==w;)(a||!(l.e.f&$))&&(p??(p=new Set)).add(l),y.push(l),l=l.next;if(l===null)continue;f=l}i.push(f),o=f,l=f.next}if(l!==null||p!==void 0){for(var k=p===void 0?[]:ce(p);l!==null;)(a||!(l.e.f&$))&&k.push(l),l=l.next;var O=k.length;if(O>0){var M=null;qe(t,k,M,d)}}re.first=t.first&&t.first.e,re.last=o&&o.e}function rt(e,t,r,n){Se(e.v,t),e.i=r}function de(e,t,r,n,s,a,c,v,d){var m=(d&Re)!==0,l=(d&Ce)===0,p=m?l?Me(s):se(s):s,o=d&De?se(c):c,i={i:o,v:p,k:a,a:null,e:null,prev:r,next:n};try{return i.e=ve(()=>v(e,p,o),T),i.e.prev=r&&r.e,i.e.next=n&&n.e,r===null?t.first=i:(r.next=i,r.e.next=i.e),n!==null&&(n.prev=i,n.e.prev=i.e),i}finally{}}function ne(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,s=t?t.e.nodes_start:r,a=e.e.nodes_start;a!==n;){var c=$e(a);s.before(a),a=c}}function N(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function V(e){if(T){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;W(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var s=e.checked;W(e,"checked",null),e.checked=s}}};e.__on_r=r,Le(r),Ke()}}function W(e,t,r,n){var s=e.__attributes??(e.__attributes={});T&&(s[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||s[t]!==(s[t]=r)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[Je]=r),r==null?e.removeAttribute(t):typeof r!="string"&&st(e).includes(t)?e[t]=r:e.setAttribute(t,r))}var le=new Map;function st(e){var t=le.get(e.nodeName);if(t)return t;le.set(e.nodeName,t=[]);for(var r,n=z(e),s=Element.prototype;s!==n;){r=He(n);for(var a in r)r[a].set&&t.push(a);n=z(n)}return t}function Y(e,t,r=t){var n=Pe();ze(e,"input",s=>{var a=s?e.defaultValue:e.value;a=j(e)?F(a):a,r(a),n&&a!==(a=t())&&(e.value=a??"")}),(T&&e.defaultValue!==e.value||Be(t)==null&&e.value)&&r(j(e)?F(e.value):e.value),Ge(()=>{var s=t();j(e)&&s===F(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function j(e){var t=e.type;return t==="number"||t==="range"}function F(e){return e===""?null:+e}const at=!1,nt=!0,kt=Object.freeze(Object.defineProperty({__proto__:null,prerender:nt,ssr:at},Symbol.toStringTag,{value:"Module"}));function X(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function lt(e,t){const r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);const n=X(r);return(s,a)=>n.then(c=>a(c.transaction(t,s).objectStore(t)))}let K;function _e(){return K||(K=lt("keyval-store","keyval")),K}function ot(e,t=_e()){return t("readonly",r=>X(r.get(e)))}function oe(e,t,r=_e()){return r("readwrite",n=>(n.put(t,e),X(n.transaction)))}const it=async(e,t)=>{const n=`–ü—Ä–æ–¥—É–∫—Ç—ã, ${new Date().toLocaleString()}`,s=JSON.stringify(U(u(t)),null,"  "),a=[new File([s],`${n}.json`,{type:"text/plain"})];navigator.canShare({files:a})&&await navigator.share({title:n,files:a})};var ft=(e,t,r)=>t(u(r)),ct=(e,t,r)=>t(u(r)),ut=ie('<tr><td class="svelte-sk5p71"> </td><td class="svelte-sk5p71"> </td><td class="svelte-sk5p71"> </td><td class="svelte-sk5p71"><button type="button" aria-label="–£–¥–∞–ª–∏—Ç—å" class="svelte-sk5p71">üóë</button> <button type="button" aria-label="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" class="svelte-sk5p71">üñãÔ∏è</button></td></tr>'),vt=ie('<table class="svelte-sk5p71"><thead class="svelte-sk5p71"><tr><th class="svelte-sk5p71">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th><th class="svelte-sk5p71">–ü—Ä–æ–¥—É–∫—Ç</th><th class="svelte-sk5p71">–¶–µ–Ω–∞</th><th class="svelte-sk5p71"></th></tr></thead><tbody class="svelte-sk5p71"><tr><td class="svelte-sk5p71"><input type="text" class="svelte-sk5p71"></td><td class="svelte-sk5p71"><input type="text" class="svelte-sk5p71"></td><td class="svelte-sk5p71"><input type="number" class="svelte-sk5p71"></td><td class="svelte-sk5p71"><button type="button" class="svelte-sk5p71"><img alt="Share" class="svelte-sk5p71"></button></td></tr><!></tbody></table>');function gt(e,t){Ve(t,!0);const r="products",n=()=>({category:"",name:"",price:0});let s=ae(R([]));ot(r).then((_=[])=>{B(s,R(_))});let a=ae(R(n()));const c=_=>{_.key==="Enter"&&(u(s).unshift(u(a)),B(a,R(n())),oe(r,U(u(s))).then(()=>console.log("worked")).catch(()=>console.log("failed")))},v=Fe(()=>u(a).category?u(s).filter(({category:_})=>_.startsWith(u(a).category)):u(s)),d=_=>{const k=u(s).indexOf(_);u(s).splice(k,1),oe(r,U(u(s)))},m=_=>{const k=u(s).indexOf(_);u(s).splice(k,1),B(a,R(_))};var l=vt(),p=A(g(l)),o=g(p),i=g(o),y=g(i);V(y),b(i);var x=A(i),w=g(x);V(w),b(x);var f=A(x),h=g(f);V(h),b(f);var I=A(f),S=g(I);S.__click=[it,s];var E=g(S);W(E,"src",`${Xe}/share.svg`),b(S),b(I),b(o);var C=A(o);et(C,17,()=>u(v),Qe,(_,k)=>{var O=ut(),M=g(O),pe=g(M,!0);b(M);var L=A(M),he=g(L,!0);b(L);var J=A(L),ye=g(J,!0);b(J);var Z=A(J),Q=g(Z);Q.__click=[ft,d,k];var ke=A(Q,2);ke.__click=[ct,m,k],b(Z),b(O),je(()=>{G(pe,u(k).category),G(he,u(k).name),G(ye,u(k).price)}),q(_,O)}),b(p),b(l),We("keypress",o,c),Y(y,()=>u(a).category,_=>u(a).category=_),Y(w,()=>u(a).name,_=>u(a).name=_),Y(h,()=>u(a).price,_=>u(a).price=_),q(e,l),Ye()}Ue(["click"]);export{gt as component,kt as universal};
