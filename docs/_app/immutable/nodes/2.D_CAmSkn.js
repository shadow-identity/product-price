import{a as Z,t as oe}from"../chunks/disclose-version.8t0kJPxb.js";import{i as ie,h as F,o as ye,j as ge,m as x,N as be,a4 as fe,a6 as me,a7 as Q,O as q,$ as L,p as O,a8 as D,a9 as ce,k as ue,aa as ke,e as ee,ab as we,ac as je,a3 as Se,ad as xe,l as ze,a0 as Ee,R as Ae,w as Te,s as te,ae as Ne,af as Ie,ag as Oe,Z as Me,ah as De,ai as Re,aj as Ce,ak as $e,u as He,al as Le,q as Je,am as re,c as ae,t as Pe,d,H as m,J as A,I as k,G as Be,D as Ge}from"../chunks/runtime.CIblE3ht.js";import{a as Ve,l as Ye,d as Fe,e as Ke,s as J}from"../chunks/render.DoIvpP_k.js";import{p as M}from"../chunks/proxy.siktq6NQ.js";import{a as Ue}from"../chunks/paths.Dv6QEcV0.js";const We=[];function K(e,t=!1){return R(e,new Map,"",We)}function R(e,t,r,n,a=null){if(typeof e=="object"&&e!==null){const c=t.get(e);if(c!==void 0)return c;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(ie(e)){const u=[];t.set(e,u),a!==null&&t.set(a,u);for(let v=0;v<e.length;v+=1)u.push(R(e[v],t,r,n));return u}if(F(e)===ye){const u={};t.set(e,u),a!==null&&t.set(a,u);for(var s in e)u[s]=R(e[s],t,r,n);return u}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function")return R(e.toJSON(),t,r,n,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function Xe(e,t){return t}function Ze(e,t,r,n){for(var a=[],s=t.length,c=0;c<s;c++)je(t[c].e,a,!0);var u=s>0&&a.length===0&&r!==null;if(u){var v=r.parentNode;Se(v),v.append(r),n.clear(),T(e,t[0].prev,t[s-1].next)}xe(a,()=>{for(var h=0;h<s;h++){var l=t[h];u||(n.delete(l.k),T(e,l.prev,l.next)),ze(l.e,!u)}})}function Qe(e,t,r,n,a,s=null){var c=e,u={flags:t,items:new Map,first:null};x&&be();var v=null,h=!1;ge(()=>{var l=r(),_=ie(l)?l:l==null?[]:fe(l),o=_.length;if(h&&o===0)return;h=o===0;let i=!1;if(x){var y=c.data===me;y!==(o===0)&&(c=Q(),q(c),L(!1),i=!0)}if(x){for(var w=null,b,f=0;f<o;f++){if(O.nodeType===8&&O.data===Ee){c=O,i=!0,L(!1);break}var g=_[f],z=n(g,f);b=ve(O,u,w,null,g,z,f,a,t),u.items.set(z,b),w=b}o>0&&q(Q())}if(!x){var E=Ae;qe(_,u,c,a,t,(E.f&D)!==0,n)}s!==null&&(o===0?v?ce(v):v=ue(()=>s(c)):v!==null&&ke(v,()=>{v=null})),i&&L(!0),r()}),x&&(c=O)}function qe(e,t,r,n,a,s,c){var u=e.length,v=t.items,h=t.first,l=h,_,o=null,i=[],y=[],w,b,f,g;for(g=0;g<u;g+=1){if(w=e[g],b=c(w,g),f=v.get(b),f===void 0){var z=l?l.e.nodes_start:r;o=ve(z,t,o,o===null?t.first:o.next,w,b,g,n,a),v.set(b,o),i=[],y=[],l=o.next;continue}if(et(f,w,g),f.e.f&D&&ce(f.e),f!==l){if(_!==void 0&&_.has(f)){if(i.length<y.length){var E=y[0],j;o=E.prev;var p=i[0],S=i[i.length-1];for(j=0;j<i.length;j+=1)se(i[j],E,r);for(j=0;j<y.length;j+=1)_.delete(y[j]);T(t,p.prev,S.next),T(t,o,p),T(t,S,E),l=E,o=S,g-=1,i=[],y=[]}else _.delete(f),se(f,l,r),T(t,f.prev,f.next),T(t,f,o===null?t.first:o.next),T(t,o,f),o=f;continue}for(i=[],y=[];l!==null&&l.k!==b;)(s||!(l.e.f&D))&&(_??(_=new Set)).add(l),y.push(l),l=l.next;if(l===null)continue;f=l}i.push(f),o=f,l=f.next}if(l!==null||_!==void 0){for(var N=_===void 0?[]:fe(_);l!==null;)(s||!(l.e.f&D))&&N.push(l),l=l.next;var I=N.length;if(I>0){var C=null;Ze(t,N,C,v)}}ee.first=t.first&&t.first.e,ee.last=o&&o.e}function et(e,t,r,n){we(e.v,t),e.i=r}function ve(e,t,r,n,a,s,c,u,v){var h=(v&Ie)!==0,l=(v&Oe)===0,_=h?l?Te(a):te(a):a,o=v&Ne?te(c):c,i={i:o,v:_,k:s,a:null,e:null,prev:r,next:n};try{return i.e=ue(()=>u(e,_,o),x),i.e.prev=r&&r.e,i.e.next=n&&n.e,r===null?t.first=i:(r.next=i,r.e.next=i.e),n!==null&&(n.prev=i,n.e.prev=i.e),i}finally{}}function se(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,a=t?t.e.nodes_start:r,s=e.e.nodes_start;s!==n;){var c=Me(s);a.before(s),s=c}}function T(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function P(e){if(x){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;U(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var a=e.checked;U(e,"checked",null),e.checked=a}}};e.__on_r=r,Re(r),Ve()}}function U(e,t,r,n){var a=e.__attributes??(e.__attributes={});x&&(a[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||a[t]!==(a[t]=r)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[Ce]=r),r==null?e.removeAttribute(t):typeof r!="string"&&tt(e).includes(t)?e[t]=r:e.setAttribute(t,r))}var ne=new Map;function tt(e){var t=ne.get(e.nodeName);if(t)return t;ne.set(e.nodeName,t=[]);for(var r,n=F(e),a=Element.prototype;a!==n;){r=De(n);for(var s in r)r[s].set&&t.push(s);n=F(n)}return t}function B(e,t,r=t){var n=$e();Ye(e,"input",a=>{var s=a?e.defaultValue:e.value;s=G(e)?V(s):s,r(s),n&&s!==(s=t())&&(e.value=s??"")}),(x&&e.defaultValue!==e.value||He(t)==null&&e.value)&&r(G(e)?V(e.value):e.value),Le(()=>{var a=t();G(e)&&a===V(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function G(e){var t=e.type;return t==="number"||t==="range"}function V(e){return e===""?null:+e}const rt=!1,at=!0,pt=Object.freeze(Object.defineProperty({__proto__:null,prerender:at,ssr:rt},Symbol.toStringTag,{value:"Module"}));function W(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function st(e,t){const r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);const n=W(r);return(a,s)=>n.then(c=>s(c.transaction(t,a).objectStore(t)))}let Y;function de(){return Y||(Y=st("keyval-store","keyval")),Y}function nt(e,t=de()){return t("readonly",r=>W(r.get(e)))}function le(e,t,r=de()){return r("readwrite",n=>(n.put(t,e),W(n.transaction)))}const lt=async(e,t)=>{const n=`–ü—Ä–æ–¥—É–∫—Ç—ã, ${new Date().toLocaleString()}`,a=JSON.stringify(K(d(t)),null,"  "),s=[new File([a],`${n}.json`,{type:"text/plain"})];navigator.canShare({files:s})&&await navigator.share({title:n,files:s})};var ot=(e,t,r)=>t(d(r)),it=oe('<tr><td class="svelte-1j5lp4z"> </td><td class="svelte-1j5lp4z"> </td><td class="svelte-1j5lp4z"> </td><td class="svelte-1j5lp4z"><button type="button" aria-label="–£–¥–∞–ª–∏—Ç—å">üóë</button></td></tr>'),ft=oe('<table class="svelte-1j5lp4z"><thead class="svelte-1j5lp4z"><tr><th class="svelte-1j5lp4z">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th><th class="svelte-1j5lp4z">–ü—Ä–æ–¥—É–∫—Ç</th><th class="svelte-1j5lp4z">–¶–µ–Ω–∞</th><th class="svelte-1j5lp4z"></th></tr></thead><tbody class="svelte-1j5lp4z"><tr><td class="svelte-1j5lp4z"><input type="text" class="svelte-1j5lp4z"></td><td class="svelte-1j5lp4z"><input type="text" class="svelte-1j5lp4z"></td><td class="svelte-1j5lp4z"><input type="number" class="svelte-1j5lp4z"></td><td class="svelte-1j5lp4z"><button type="button"><img alt="Share" class="svelte-1j5lp4z"></button></td></tr><!></tbody></table>');function ht(e,t){Je(t,!0);const r="products",n=()=>({category:"",name:"",price:0});let a=re(M([]));nt(r).then((p=[])=>{ae(a,M(p))});let s=re(M(n()));const c=p=>{p.key==="Enter"&&(d(a).push(d(s)),ae(s,M(n())),le(r,K(d(a))).then(()=>console.log("worked")).catch(()=>console.log("failed")))},u=Ge(()=>d(s).category?d(a).filter(({category:p})=>p.startsWith(d(s).category)):d(a)),v=p=>{const S=d(a).indexOf(p);d(a).splice(S,1),le(r,K(d(a)))};var h=ft(),l=A(m(h)),_=m(l),o=m(_),i=m(o);P(i),k(o);var y=A(o),w=m(y);P(w),k(y);var b=A(y),f=m(b);P(f),k(b);var g=A(b),z=m(g);z.__click=[lt,a];var E=m(z);U(E,"src",`${Ue}/share.svg`),k(z),k(g),k(_);var j=A(_);Qe(j,17,()=>d(u),Xe,(p,S)=>{var N=it(),I=m(N),C=m(I,!0);k(I);var $=A(I),_e=m($,!0);k($);var H=A($),pe=m(H,!0);k(H);var X=A(H),he=m(X);he.__click=[ot,v,S],k(X),k(N),Be(()=>{J(C,d(S).category),J(_e,d(S).name),J(pe,d(S).price)}),Z(p,N)}),k(l),k(h),Ke("keypress",_,c),B(i,()=>d(s).category,p=>d(s).category=p),B(w,()=>d(s).name,p=>d(s).name=p),B(f,()=>d(s).price,p=>d(s).price=p),Z(e,h),Pe()}Fe(["click"]);export{ht as component,pt as universal};
